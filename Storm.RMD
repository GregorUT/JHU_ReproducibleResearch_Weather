---
title: "SevereWeather"
author: "Gregory Smith"
date: "January 25, 2016"
output: html_document
---
Dependencies

```{r}
library(dplyr)
```

Download and extract data

```{r}
## check to see if file "RawData.csv" exists

if(!file.exists("./RawStormData.csv"))
{
    download.file("https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2FStormData.csv.bz2","./RawStormData.BZ2")
}
## downloaded file is stored as "./RawStormData.Bz2"
ExtractedData <- read.csv("RawStormData.BZ2")
```

```{r}
## Need to fix formating
StartDateLimit <- as.date(as.character("01/01/1996"))
```

Prior to 1996 National Climatic Data Center did not track all weather realted events.
http://www.ncdc.noaa.gov/stormevents/details.jsp?type=eventtype
With this in mind.  I have limited events to those occuring after:`r StartDateLimit`.
```{r}
lExtractedData <- subset(ExtractedData, BGN_DATE > StartDateLimit)
```

# Exploring the data

## Start with Fatalities
```{r}
Fatalaties <- ExtractedData[,c(2,8,23)]
```



```{r}
FatalSummation <- ddply(Fatalaties, .(EVTYPE), summarise, mean=mean(FATALITIES), sum=sum(FATALITIES))
# Limit Fatal Stats to those that have a total count > 0
LFatalSummation <- FatalSummation[FatalSummation$sum > 0 ,]

# Order by # of fatalities high to low
OrderLFatalSummation <- LFatalSummation[with(LFatalSummation, order(-LFatalSummation$sum)), ]

```
Of the `r count(event)` events recordered,
`r count(LFatalSummation)` included fatalities.


## Histogram of the events with the top 20 highest total fatalities
```{r}
MinFatalities <- 1
LFatalSummation <- FatalSummation[FatalSummation$sum >= MinFatalities ,]
OrderLFatalSummation <- LFatalSummation[with(LFatalSummation, order(-LFatalSummation$sum)), ]
```


## Property damage is based on two columns "PROPDMG" a numeric value and "PROPDMGEXP" a letter value representing 
## K = 1000, M= 100000, 
```{r}

{```}